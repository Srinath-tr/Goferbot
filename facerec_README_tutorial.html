<!DOCTYPE html>
<!-- saved from url=(0063)https://github.com/bytefish/facerec/blob/master/README.markdown -->
<html lang="en" class=" is-u2f-enabled"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    

    <link crossorigin="anonymous" href="./facerec_README_tutorial_files/frameworks-c07e6f4b02b556d1d85052fb3853caf84c80e6b23dcdb1ae1b00f051da1115a2.css" integrity="sha256-wH5vSwK1VtHYUFL7OFPK+EyA5rI9zbGuGwDwUdoRFaI=" media="all" rel="stylesheet">
    <link crossorigin="anonymous" href="./facerec_README_tutorial_files/github-09e1c38d593bf8fc6e4c4f1b526d0184e27c433d64963942c1e8c361589f8125.css" integrity="sha256-CeHDjVk7+PxuTE8bUm0BhOJ8Qz1kljlCwejDYVifgSU=" media="all" rel="stylesheet">
    
    
    
    

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=device-width">
    
    <title>facerec/README.markdown at master · bytefish/facerec</title>
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" href="https://github.com/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="https://github.com/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://github.com/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://github.com/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://github.com/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://github.com/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://github.com/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://github.com/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://github.com/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://github.com/apple-touch-icon-180x180.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="https://avatars0.githubusercontent.com/u/239373?v=3&amp;s=400" name="twitter:image:src"><meta content="@github" name="twitter:site"><meta content="summary" name="twitter:card"><meta content="bytefish/facerec" name="twitter:title"><meta content="facerec - Implements face recognition algorithms for MATLAB/GNU Octave and Python." name="twitter:description">
      <meta content="https://avatars0.githubusercontent.com/u/239373?v=3&amp;s=400" property="og:image"><meta content="GitHub" property="og:site_name"><meta content="object" property="og:type"><meta content="bytefish/facerec" property="og:title"><meta content="https://github.com/bytefish/facerec" property="og:url"><meta content="facerec - Implements face recognition algorithms for MATLAB/GNU Octave and Python." property="og:description">
      <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
    <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MTQ3NDkzMzExOmYwMGFlODhlNDM5Zjc5OTFkM2RhMzk3YjlkMzI3ZDk4NmM1Y2EyMTFhNTllMWE5ZTU2NjAxZTAzOTIxYjI4ODA=--e9c369f059ad0c672eb6b6c778577fba9db7ede6">
    <meta name="pjax-timeout" content="1000">
    <link rel="sudo-modal" href="https://github.com/sessions/sudo_modal">
    <meta name="request-id" content="C1D1:1B25:128E2C0:1D8F6B1:58835E66" data-pjax-transient="">

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient="">

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
<meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host"><meta content="github" name="octolytics-app-id"><meta content="C1D1:1B25:128E2C0:1D8F6B1:58835E66" name="octolytics-dimension-request_id"><meta content="10103157" name="octolytics-actor-id"><meta content="Srinath-tr" name="octolytics-actor-login"><meta content="264b059e367028653779175cd762d63da811e964743052de8a125d4e940c4e1b" name="octolytics-actor-hash">
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location">



  <meta class="js-ga-set" name="dimension1" content="Logged In">



        <meta name="hostname" content="github.com">
    <meta name="user-login" content="Srinath-tr">

        <meta name="expected-hostname" content="github.com">
      <meta name="js-proxy-site-detection-payload" content="MDllNzRlNGIzNWQ3NTJkYTdkNzBiNmViOTNmMTAzOGJjNjYyNjU1ZGQ3NDllNzAwYTZhZDdmODVjNGNkOGQwOXx7InJlbW90ZV9hZGRyZXNzIjoiMTU3LjUwLjIzOS40OCIsInJlcXVlc3RfaWQiOiJDMUQxOjFCMjU6MTI4RTJDMDoxRDhGNkIxOjU4ODM1RTY2IiwidGltZXN0YW1wIjoxNDg1MDA0Mzk1LCJob3N0IjoiZ2l0aHViLmNvbSJ9">


      <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
      <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

    <meta name="html-safe-nonce" content="061bd3e106eedeef11073a9885d47de308c070c1">

    <meta http-equiv="x-pjax-version" content="94a9cc48ead92329faac49833ac14041">
    

      
  <meta name="description" content="facerec - Implements face recognition algorithms for MATLAB/GNU Octave and Python.">
  <meta name="go-import" content="github.com/bytefish/facerec git https://github.com/bytefish/facerec.git">

  <meta content="239373" name="octolytics-dimension-user_id"><meta content="bytefish" name="octolytics-dimension-user_login"><meta content="2185379" name="octolytics-dimension-repository_id"><meta content="bytefish/facerec" name="octolytics-dimension-repository_nwo"><meta content="true" name="octolytics-dimension-repository_public"><meta content="false" name="octolytics-dimension-repository_is_fork"><meta content="2185379" name="octolytics-dimension-repository_network_root_id"><meta content="bytefish/facerec" name="octolytics-dimension-repository_network_root_nwo">
  <link href="https://github.com/bytefish/facerec/commits/master.atom" rel="alternate" title="Recent Commits to facerec:master" type="application/atom+xml">


      <link rel="canonical" href="https://github.com/bytefish/facerec/blob/master/README.markdown" data-pjax-transient="">
  </head>


  <body class="logged-in  env-production windows vis-public page-blob">
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>
    <a href="https://github.com/bytefish/facerec/blob/master/README.markdown#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>

    
    
    



        <div class="header header-logged-in true" role="banner">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg aria-hidden="true" class="octicon octicon-mark-github" height="28" version="1.1" viewBox="0 0 16 16" width="28"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>


        <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/bytefish/facerec/search" class="js-site-search-form" data-scoped-search-url="/bytefish/facerec/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
      <div class="header-search-scope">This repository</div>
      <input type="text" class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable" data-hotkey="s" name="q" placeholder="Search" aria-label="Search this repository" data-unscoped-placeholder="Search GitHub" data-scoped-placeholder="Search" autocapitalize="off">
    </label>
</form></div>


      <ul class="header-nav float-left" role="navigation">
        <li class="header-nav-item">
          <a href="https://github.com/pulls" aria-label="Pull requests you created" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
            Pull requests
</a>        </li>
        <li class="header-nav-item">
          <a href="https://github.com/issues" aria-label="Issues you created" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
            Issues
</a>        </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://gist.github.com/" data-ga-click="Header, go to gist, text:gist">Gist</a>
          </li>
      </ul>

    
<ul class="header-nav user-nav float-right" id="user-links">
  <li class="header-nav-item">
    
    <a href="https://github.com/notifications" aria-label="You have no unread notifications" class="header-nav-link notification-indicator tooltipped tooltipped-s js-socket-channel js-notification-indicator" data-channel="tenant:1:notification-changed:10103157" data-ga-click="Header, go to notifications, icon:read" data-hotkey="g n">
        <span class="mail-status "></span>
        <svg aria-hidden="true" class="octicon octicon-bell" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 12v1H0v-1l.73-.58c.77-.77.81-2.55 1.19-4.42C2.69 3.23 6 2 6 2c0-.55.45-1 1-1s1 .45 1 1c0 0 3.39 1.23 4.16 5 .38 1.88.42 3.66 1.19 4.42l.66.58H14zm-7 4c1.11 0 2-.89 2-2H5c0 1.11.89 2 2 2z"></path></svg>
</a>
  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link tooltipped tooltipped-s js-menu-target" href="https://github.com/new" aria-label="Create new…" data-ga-click="Header, create new, icon:add">
      <svg aria-hidden="true" class="octicon octicon-plus float-left" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5z"></path></svg>
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="https://github.com/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="https://github.com/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="https://github.com/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="bytefish/facerec">This repository</span>
  </div>
    <a class="dropdown-item" href="https://github.com/bytefish/facerec/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </div>
  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link name tooltipped tooltipped-sw js-menu-target" href="https://github.com/Srinath-tr" aria-label="View profile and more" data-ga-click="Header, show menu, icon:avatar">
      <img alt="@Srinath-tr" class="avatar" height="20" src="./facerec_README_tutorial_files/10103157" width="20">
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <div class="dropdown-menu dropdown-menu-sw">
        <div class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">Srinath-tr</strong>
        </div>

        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="https://github.com/Srinath-tr" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a>
        <a class="dropdown-item" href="https://github.com/Srinath-tr?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a>
        <a class="dropdown-item" href="https://github.com/explore" data-ga-click="Header, go to explore, text:explore">
          Explore
        </a>
          <a class="dropdown-item" href="https://github.com/integrations" data-ga-click="Header, go to integrations, text:integrations">
            Integrations
          </a>
        <a class="dropdown-item" href="https://help.github.com/" data-ga-click="Header, go to help, text:help">
          Help
        </a>

        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="https://github.com/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a>

        <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="263mHPDSkciCqadHX0lzpHlKZsDEFP4mZKWji1br+5b5e3Ps/66zjkSOS6mS4dXSGodYjDdhI426Dlo5Ims1Gw=="></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </li>
</ul>


    
  </div>
</div>


      


    <div id="start-of-content" class="accessibility-aid"></div>

      <div id="js-flash-container">
</div>


    <div role="main">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode">
    <div id="js-repo-pjax-container" data-pjax-container="">
      
<div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
  <div class="container repohead-details-container">

    

<ul class="pagehead-actions">

  <li>
        <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="WS45AUkt7xpijXxbykktoJq1WJaxTa/nZywYOGM85hrgsRTXFlf34pLQWz44Dxu3gQKhMonEijEKwVlFxSXaHw=="></div>      <input class="form-control" id="repository_id" name="repository_id" type="hidden" value="2185379">

        <div class="select-menu js-menu-container js-select-menu">
          <a href="https://github.com/bytefish/facerec/subscription" class="btn btn-sm btn-with-count select-menu-button js-menu-target" role="button" tabindex="0" aria-haspopup="true" data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
              <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
              Watch
            </span>
          </a>
          <a class="social-count js-social-count" href="https://github.com/bytefish/facerec/watchers" aria-label="108 users are watching this repository">
            108
          </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
                  <div class="select-menu-item-text">
                    <input checked="checked" id="do_included" name="do" type="radio" value="included">
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
                  <div class="select-menu-item-text">
                    <input id="do_subscribed" name="do" type="radio" value="subscribed">
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                      Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
                  <div class="select-menu-item-text">
                    <input id="do_ignore" name="do" type="radio" value="ignore">
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-mute" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"></path></svg>
                      Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
      <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/bytefish/facerec/unstar" class="starred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="ckc9pZso7uAG2WAnGpoHmx7i/x7qmTPCjIHP2Lw8fcYbP98mOjfMKCf8iewEuG8OiNQEpRnf1E9burmlQIElRQ=="></div>
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Unstar this repository" title="Unstar bytefish/facerec" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="https://github.com/bytefish/facerec/stargazers" aria-label="618 users starred this repository">
          618
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/bytefish/facerec/star" class="unstarred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="QRed7KgUG4Y6So9q0o560fdm0onDscE3dI36g2SylholNhRgSP9wq1Ae3HprGn3PMv8JMTP42bUewSQKETuV6A=="></div>
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Star this repository" title="Star bytefish/facerec" data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="https://github.com/bytefish/facerec/stargazers" aria-label="618 users starred this repository">
          618
        </a>
</form>  </div>

  </li>

  <li>
          <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/bytefish/facerec/fork" class="btn-with-count" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="XIchXlnL+D9qY/lIf4SwJOV86LyT5mFdt8Ril/OkE5VAo46q0nJrE3FcPsOlXi1ixZlpqYoVUJKhwnUYX3Tpfw=="></div>
            <button type="submit" class="btn btn-sm btn-with-count" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork" title="Fork your own copy of bytefish/facerec to your account" aria-label="Fork your own copy of bytefish/facerec to your account">
              <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
              Fork
            </button>
</form>
    <a href="https://github.com/bytefish/facerec/network" class="social-count" aria-label="372 users forked this repository">
      372
    </a>
  </li>
</ul>

    <h1 class="public ">
  <svg aria-hidden="true" class="octicon octicon-repo" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
  <span class="author" itemprop="author"><a href="https://github.com/bytefish" class="url fn" rel="author">bytefish</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="https://github.com/bytefish/facerec" data-pjax="#js-repo-pjax-container">facerec</a></strong>

</h1>

  </div>
  <div class="container">
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax" itemscope="" itemtype="http://schema.org/BreadcrumbList" role="navigation" data-pjax="#js-repo-pjax-container">

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="https://github.com/bytefish/facerec" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /bytefish/facerec" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="https://github.com/bytefish/facerec/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /bytefish/facerec/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
        <span itemprop="name">Issues</span>
        <span class="counter">5</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="https://github.com/bytefish/facerec/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /bytefish/facerec/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      <span itemprop="name">Pull requests</span>
      <span class="counter">2</span>
      <meta itemprop="position" content="3">
</a>  </span>

  <a href="https://github.com/bytefish/facerec/projects" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /bytefish/facerec/projects">
    <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
    Projects
    <span class="counter">0</span>
</a>
    <a href="https://github.com/bytefish/facerec/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /bytefish/facerec/wiki">
      <svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>
      Wiki
</a>

  <a href="https://github.com/bytefish/facerec/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="pulse /bytefish/facerec/pulse">
    <svg aria-hidden="true" class="octicon octicon-pulse" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0v2h3.6l.9-1.8.9 5.4L9 8.5l1.6 1.5H14V8z"></path></svg>
    Pulse
</a>
  <a href="https://github.com/bytefish/facerec/graphs" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors /bytefish/facerec/graphs">
    <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"></path></svg>
    Graphs
</a>

</nav>

  </div>
</div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    

<a href="https://github.com/bytefish/facerec/blob/02e6ec8694667bb880174b600d32dd9b6a28bc95/README.markdown" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

<!-- blob contrib key: blob_contributors:v21:e870440d40c8de7d6fb21f8700af9928 -->

<div class="file-navigation js-zeroclipboard-container">
  
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w" type="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <i>Branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax="" aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="https://github.com/bytefish/facerec/blob/master/README.markdown#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="https://github.com/bytefish/facerec/blob/master/README.markdown#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected" href="https://github.com/bytefish/facerec/blob/master/README.markdown" data-name="master" data-skip-pjax="true" rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/bytefish/facerec/blob/version03refactoring/README.markdown" data-name="version03refactoring" data-skip-pjax="true" rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                version03refactoring
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/bytefish/facerec/tree/v0.11/README.markdown" data-name="v0.11" data-skip-pjax="true" rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.11">
                v0.11
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/bytefish/facerec/tree/v0.2/README.markdown" data-name="v0.2" data-skip-pjax="true" rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2">
                v0.2
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/bytefish/facerec/tree/v0.1/README.markdown" data-name="v0.1" data-skip-pjax="true" rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.1">
                v0.1
              </span>
            </a>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

  <div class="BtnGroup float-right">
    <a href="https://github.com/bytefish/facerec/find/master" class="js-pjax-capture-input btn btn-sm BtnGroup-item" data-pjax="" data-hotkey="t">
      Find file
    </a>
    <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
  </div>
  <div class="breadcrumb js-zeroclipboard-target">
    <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="https://github.com/bytefish/facerec"><span>facerec</span></a></span></span><span class="separator">/</span><strong class="final-path">README.markdown</strong>
  </div>
</div>



  <div class="commit-tease">
      <span class="float-right">
        <a class="commit-tease-sha" href="https://github.com/bytefish/facerec/commit/52ca3cbeb87f87ea123018680d1afeb89afbccc9" data-pjax="">
          52ca3cb
        </a>
        <relative-time datetime="2016-10-15T16:34:47Z" title="15 Oct 2016, 22:04 GMT+5:30">on 15 Oct 2016</relative-time>
      </span>
      <div>
        <img alt="@bytefish" class="avatar" height="20" src="./facerec_README_tutorial_files/239373" width="20">
        <a href="https://github.com/bytefish" class="user-mention" rel="author">bytefish</a>
          <a href="https://github.com/bytefish/facerec/commit/52ca3cbeb87f87ea123018680d1afeb89afbccc9" class="message" data-pjax="true" title="Update README">Update README</a>
      </div>

    <div class="commit-tease-contributors">
      <button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box">
        <strong>2</strong>
         contributors
      </button>
          <a class="avatar-link tooltipped tooltipped-s" aria-label="bytefish" href="https://github.com/bytefish/facerec/commits/master/README.markdown?author=bytefish"><img alt="@bytefish" class="avatar" height="20" src="./facerec_README_tutorial_files/239373" width="20"> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="h4ck3rk3y" href="https://github.com/bytefish/facerec/commits/master/README.markdown?author=h4ck3rk3y"><img alt="@h4ck3rk3y" class="avatar" height="20" src="./facerec_README_tutorial_files/6670312" width="20"> </a>


    </div>

    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list" data-facebox-id="facebox-description">
          <li class="facebox-user-list-item">
            <img alt="@bytefish" height="24" src="./facerec_README_tutorial_files/239373(1)" width="24">
            <a href="https://github.com/bytefish">bytefish</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@h4ck3rk3y" height="24" src="./facerec_README_tutorial_files/6670312(1)" width="24">
            <a href="https://github.com/h4ck3rk3y">h4ck3rk3y</a>
          </li>
      </ul>
    </div>
  </div>


<div class="file">
  <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a href="https://github.com/bytefish/facerec/raw/master/README.markdown" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>
        <a href="https://github.com/bytefish/facerec/blame/master/README.markdown" class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b">Blame</a>
      <a href="https://github.com/bytefish/facerec/commits/master/README.markdown" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>
    </div>

        <a class="btn-octicon tooltipped tooltipped-nw" href="https://windows.github.com/" aria-label="Open this file in GitHub Desktop" data-ga-click="Repository, open with desktop, type:windows">
            <svg aria-hidden="true" class="octicon octicon-device-desktop" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z"></path></svg>
        </a>

        <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/bytefish/facerec/edit/master/README.markdown" class="inline-form js-update-url-with-hash" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="NEuCW7HmhugY3iuF3/meQec6frsR9831HsjdQN/gXPDasvxHkv7XcCuBwC58e0Pihp4xLgUrjJW2OXvN3+mrpg=="></div>
          <button class="btn-octicon tooltipped tooltipped-nw" type="submit" aria-label="Fork this project and edit the file" data-hotkey="e" data-disable-with="">
            <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"></path></svg>
          </button>
</form>        <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/bytefish/facerec/delete/master/README.markdown" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="mcOYe2yQ7NUgEc14IOB4qewWt5ekpNPYPbGjB9hEkhH9CIFImWulFcgTNNx8W8LPQEek8jJdzBAICohYFVybcQ=="></div>
          <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit" aria-label="Fork this project and delete the file" data-disable-with="">
            <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"></path></svg>
          </button>
</form>  </div>

  <div class="file-info">
      789 lines (622 sloc)
      <span class="file-info-divider"></span>
    36.8 KB
  </div>
</div>

  
  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-facerec" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#facerec" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>facerec</h1>

<h2><a id="user-content-overview" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#overview" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h2>

<p>This project implements a face recognition framework for Python with:</p>

<ul>
<li>Preprocessing

<ul>
<li>Histogram Equalization</li>
<li>Local Binary Patterns</li>
<li>TanTriggsPreprocessing (Tan, X., and Triggs, B. "Enhanced local texture feature sets for face recognition under difficult lighting conditions.". IEEE Transactions on Image Processing 19 (2010), 1635–650.)</li>
</ul></li>
<li>Feature Extraction

<ul>
<li>Eigenfaces (Turk, M., and Pentland, A. "Eigenfaces for recognition.". Journal of Cognitive Neuroscience 3 (1991), 71–86.)</li>
<li>Fisherfaces (Belhumeur, P. N., Hespanha, J., and Kriegman, D. "Eigenfaces vs. Fisherfaces: Recognition using class specific linear projection.". IEEE Transactions on Pattern Analysis and Machine Intelligence 19, 7 (1997), 711–720.)</li>
<li>Local Binary Patterns Histograms (Ahonen, T., Hadid, A., and Pietikainen, M. "Face Recognition with Local Binary Patterns.". Computer Vision - ECCV 2004 (2004), 469–481.)

<ul>
<li>Original LBP</li>
<li>Extended LBP</li>
</ul></li>
<li>Local Phase Quantization (Ojansivu V &amp; Heikkilä J. "Blur insensitive texture classification using local phase quantization." Proc. Image and Signal Processing (ICISP 2008), 5099:236-243.)</li>
</ul></li>
<li>Classifier

<ul>
<li>k-Nearest Neighbor; available distance metrics

<ul>
<li>Euclidean Distance</li>
<li>Cosine Distance</li>
<li>ChiSquare Distance</li>
<li>Bin Ratio Distance</li>
</ul></li>
<li>Support Vector Machines; using libsvm bindings. (Vapnik, V. "Statistical Learning Theory.". John Wiley and Sons, New York, 1998.)</li>
</ul></li>
<li>Cross Validation

<ul>
<li>k-fold Cross Validation</li>
<li>Leave-One-Out Cross Validation</li>
<li>Leave-One-Class-Out Cross Validation</li>
</ul></li>
</ul>

<h2><a id="user-content-documentation" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Documentation</h2>

<p>You can find the documentation in the <code>doc</code> folder coming with this project. I have added the build html folder to 
the repository, so you don't need to build it by yourself. But if you want to build the documentation by yourself,
here is how to do it.</p>

<p>I've uploaded the documentation to my website, if you just want to view the documentation without cloning the repository:</p>

<ul>
<li><a href="http://bytefish.de/dev/facerec">http://bytefish.de/dev/facerec</a></li>
</ul>

<h3><a id="user-content-dependencies" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#dependencies" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependencies</h3>

<h4><a id="user-content-python2" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#python2" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Python2</h4>

<pre><code>pip install future
pip install scikit-learn
pip install numpy
pip install scipy
pip install matplotlib
pip install PIL
</code></pre>

<h4><a id="user-content-python3" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#python3" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Python3</h4>

<pre><code>pip install scikit-learn
pip install numpy
pip install scipy
pip install matplotlib
pip install Pillow
</code></pre>

<h3><a id="user-content-sphinx" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#sphinx" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sphinx</h3>

<p>You need to install <a href="http://sphinx-doc.org/">Sphinx</a> in order to build the project, which can be obtained with <code>pip</code>:</p>

<pre><code>pip install sphinx
</code></pre>

<h3><a id="user-content-build-the-documentation" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#build-the-documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build the Documentation</h3>

<p>Windows:</p>

<pre><code>make.cmd html
</code></pre>

<p>Linux:</p>

<pre><code>make html
</code></pre>

<p>Or if you only have <code>sphinx</code> installed then simply run:</p>

<pre><code>sphinx-build -b html source build
</code></pre>

<h2><a id="user-content-old-documentation" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#old-documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Old Documentation</h2>

<p>I've appended the old documentation, so people can also read this without visiting other pages.</p>

<h3><a id="user-content-a-simple-example-for-beginners" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#a-simple-example-for-beginners" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A simple example for beginners</h3>

<p>Due to popular request, I've created a simple example for getting started with the facerec framework.</p>

<h4><a id="user-content-getting-the-data-right" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#getting-the-data-right" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting the data right</h4>

<p>We aren't doing a toy example, so you'll need some image data. For sake of simplicity I have assumed, that the images (the faces, persons you want to recognize) are given in folders. So imagine I have a folder <code>images</code> (the dataset!), with the subfolders person1, person2 and so on:</p>

<pre><code>philipp@mango:~/facerec/data/images$ tree -L 2 | head -n 20
.
|-- person1
|   |-- 1.jpg
|   |-- 2.jpg
|   |-- 3.jpg
|   |-- 4.jpg
|-- person2
|   |-- 1.jpg
|   |-- 2.jpg
|   |-- 3.jpg
|   |-- 4.jpg

[...]
</code></pre>

<p>One of the public available datasets, that is already coming in such a folder structure is the AT&amp;T Facedatabase, available at:</p>

<ul>
<li><a href="http://www.cl.cam.ac.uk/research/dtg/attarchive/facedatabase.html">http://www.cl.cam.ac.uk/research/dtg/attarchive/facedatabase.html</a></li>
</ul>

<p>Once unpacked it is going to look like this (on my filesystem it is unpacked to /home/philipp/facerec/data/at/, your path is different!):</p>

<pre><code>philipp@mango:~/facerec/data/at$ tree .
.
|-- README
|-- s1
|   |-- 1.pgm
|   |-- 2.pgm
[...]
|   `-- 10.pgm
|-- s2
|   |-- 1.pgm
|   |-- 2.pgm
[...]
|   `-- 10.pgm
|-- s3
|   |-- 1.pgm
|   |-- 2.pgm
[...]
|   `-- 10.pgm

...

40 directories, 401 files
</code></pre>

<p>That's all that needs to be done.</p>

<h4><a id="user-content-example-fisherfaces" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#example-fisherfaces" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: Fisherfaces</h4>

<p>The following code listing now will learn a Fisherfaces model on the AT&amp;T Facedatabase. I wrote a simple method <code>read_images</code>, which reads the images from a given path (and optionally resizes them). Make sure you have the folder structured as described above. The <code>read_images</code> method returns [X,y] being:</p>

<ul>
<li><strong>X</strong>: A list of NumPy arrays (images).</li>
<li><strong>y</strong>: A list of integers (corresponding labels).</li>
</ul>

<p>The source code listing is also in this github repository at:</p>

<ul>
<li><a href="https://github.com/bytefish/facerec/blob/master/py/apps/scripts/simple_example.py">facerec/py/apps/scripts/simple_example.py</a></li>
</ul>

<h4><a id="user-content-simple_examplepy" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#simple_examplepy" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>simple_example.py</h4>

<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span>!/usr/bin/env python</span>
<span class="pl-c"><span class="pl-c">#</span> Software License Agreement (BSD License)</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> Copyright (c) 2012, Philipp Wagner &lt;bytefish[at]gmx[dot]de&gt;.</span>
<span class="pl-c"><span class="pl-c">#</span> All rights reserved.</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> Redistribution and use in source and binary forms, with or without</span>
<span class="pl-c"><span class="pl-c">#</span> modification, are permitted provided that the following conditions</span>
<span class="pl-c"><span class="pl-c">#</span> are met:</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>  * Redistributions of source code must retain the above copyright</span>
<span class="pl-c"><span class="pl-c">#</span>    notice, this list of conditions and the following disclaimer.</span>
<span class="pl-c"><span class="pl-c">#</span>  * Redistributions in binary form must reproduce the above</span>
<span class="pl-c"><span class="pl-c">#</span>    copyright notice, this list of conditions and the following</span>
<span class="pl-c"><span class="pl-c">#</span>    disclaimer in the documentation and/or other materials provided</span>
<span class="pl-c"><span class="pl-c">#</span>    with the distribution.</span>
<span class="pl-c"><span class="pl-c">#</span>  * Neither the name of the author nor the names of its</span>
<span class="pl-c"><span class="pl-c">#</span>    contributors may be used to endorse or promote products derived</span>
<span class="pl-c"><span class="pl-c">#</span>    from this software without specific prior written permission.</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<span class="pl-c"><span class="pl-c">#</span> "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<span class="pl-c"><span class="pl-c">#</span> LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS</span>
<span class="pl-c"><span class="pl-c">#</span> FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE</span>
<span class="pl-c"><span class="pl-c">#</span> COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</span>
<span class="pl-c"><span class="pl-c">#</span> INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,</span>
<span class="pl-c"><span class="pl-c">#</span> BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="pl-c"><span class="pl-c">#</span> LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
<span class="pl-c"><span class="pl-c">#</span> CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span>
<span class="pl-c"><span class="pl-c">#</span> LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN</span>
<span class="pl-c"><span class="pl-c">#</span> ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
<span class="pl-c"><span class="pl-c">#</span> POSSIBILITY OF SUCH DAMAGE.</span>

<span class="pl-k">import</span> sys, os
sys.path.append(<span class="pl-s"><span class="pl-pds">"</span>../..<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">#</span> import facerec modules</span>
<span class="pl-k">from</span> facerec.feature <span class="pl-k">import</span> Fisherfaces
<span class="pl-k">from</span> facerec.distance <span class="pl-k">import</span> EuclideanDistance
<span class="pl-k">from</span> facerec.classifier <span class="pl-k">import</span> NearestNeighbor
<span class="pl-k">from</span> facerec.model <span class="pl-k">import</span> PredictableModel
<span class="pl-k">from</span> facerec.validation <span class="pl-k">import</span> KFoldCrossValidation
<span class="pl-k">from</span> facerec.visual <span class="pl-k">import</span> subplot
<span class="pl-k">from</span> facerec.util <span class="pl-k">import</span> minmax_normalize
<span class="pl-c"><span class="pl-c">#</span> import numpy, matplotlib and logging</span>
<span class="pl-k">import</span> numpy <span class="pl-k">as</span> np
<span class="pl-k">from</span> <span class="pl-c1">PIL</span> <span class="pl-k">import</span> Image
<span class="pl-k">import</span> matplotlib.cm <span class="pl-k">as</span> cm
<span class="pl-k">import</span> logging

<span class="pl-k">def</span> <span class="pl-en">read_images</span>(<span class="pl-smi">path</span>, <span class="pl-smi">sz</span><span class="pl-k">=</span><span class="pl-c1">None</span>):
    <span class="pl-s"><span class="pl-pds">"""</span>Reads the images in a given folder, resizes images on the fly if size is given.</span>
<span class="pl-s"></span>
<span class="pl-s">    Args:</span>
<span class="pl-s">        path: Path to a folder with subfolders representing the subjects (persons).</span>
<span class="pl-s">        sz: A tuple with the size Resizes </span>
<span class="pl-s"></span>
<span class="pl-s">    Returns:</span>
<span class="pl-s">        A list [X,y]</span>
<span class="pl-s"></span>
<span class="pl-s">            X: The images, which is a Python list of numpy arrays.</span>
<span class="pl-s">            y: The corresponding labels (the unique number of the subject, person) in a Python list.</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>
    c <span class="pl-k">=</span> <span class="pl-c1">0</span>
    <span class="pl-c1">X</span>,y <span class="pl-k">=</span> [], []
    <span class="pl-k">for</span> dirname, dirnames, filenames <span class="pl-k">in</span> os.walk(path):
        <span class="pl-k">for</span> subdirname <span class="pl-k">in</span> dirnames:
            subject_path <span class="pl-k">=</span> os.path.join(dirname, subdirname)
            <span class="pl-k">for</span> filename <span class="pl-k">in</span> os.listdir(subject_path):
                <span class="pl-k">try</span>:
                    im <span class="pl-k">=</span> Image.open(os.path.join(subject_path, filename))
                    im <span class="pl-k">=</span> im.convert(<span class="pl-s"><span class="pl-pds">"</span>L<span class="pl-pds">"</span></span>)
                    <span class="pl-c"><span class="pl-c">#</span> resize to given size (if given)</span>
                    <span class="pl-k">if</span> (sz <span class="pl-k">is</span> <span class="pl-k">not</span> <span class="pl-c1">None</span>):
                        im <span class="pl-k">=</span> im.resize(sz, Image.<span class="pl-c1">ANTIALIAS</span>)
                    <span class="pl-c1">X</span>.append(np.asarray(im, <span class="pl-v">dtype</span><span class="pl-k">=</span>np.uint8))
                    y.append(c)
                <span class="pl-k">except</span> <span class="pl-c1">IOError</span>, (errno, strerror):
                    <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>I/O error(<span class="pl-c1">{0}</span>): <span class="pl-c1">{1}</span><span class="pl-pds">"</span></span>.format(errno, strerror)
                <span class="pl-k">except</span>:
                    <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>Unexpected error:<span class="pl-pds">"</span></span>, sys.exc_info()[<span class="pl-c1">0</span>]
                    <span class="pl-k">raise</span>
            c <span class="pl-k">=</span> c<span class="pl-k">+</span><span class="pl-c1">1</span>
    <span class="pl-k">return</span> [<span class="pl-c1">X</span>,y]

<span class="pl-k">if</span> <span class="pl-c1">__name__</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>__main__<span class="pl-pds">"</span></span>:
    <span class="pl-c"><span class="pl-c">#</span> This is where we write the images, if an output_dir is given</span>
    <span class="pl-c"><span class="pl-c">#</span> in command line:</span>
    out_dir <span class="pl-k">=</span> <span class="pl-c1">None</span>
    <span class="pl-c"><span class="pl-c">#</span> You'll need at least a path to your image data, please see</span>
    <span class="pl-c"><span class="pl-c">#</span> the tutorial coming with this source code on how to prepare</span>
    <span class="pl-c"><span class="pl-c">#</span> your image data:</span>
    <span class="pl-k">if</span> <span class="pl-c1">len</span>(sys.argv) <span class="pl-k">&lt;</span> <span class="pl-c1">2</span>:
        <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>USAGE: facerec_demo.py &lt;/path/to/images&gt;<span class="pl-pds">"</span></span>
        sys.exit()
    <span class="pl-c"><span class="pl-c">#</span> Now read in the image data. This must be a valid path!</span>
    [<span class="pl-c1">X</span>,y] <span class="pl-k">=</span> read_images(sys.argv[<span class="pl-c1">1</span>])
    <span class="pl-c"><span class="pl-c">#</span> Then set up a handler for logging:</span>
    handler <span class="pl-k">=</span> logging.StreamHandler(sys.stdout)
    formatter <span class="pl-k">=</span> logging.Formatter(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-c1">%(asctime)s</span> - <span class="pl-c1">%(name)s</span> - <span class="pl-c1">%(levelname)s</span> - <span class="pl-c1">%(message)s</span><span class="pl-pds">'</span></span>)
    handler.setFormatter(formatter)
    <span class="pl-c"><span class="pl-c">#</span> Add handler to facerec modules, so we see what's going on inside:</span>
    logger <span class="pl-k">=</span> logging.getLogger(<span class="pl-s"><span class="pl-pds">"</span>facerec<span class="pl-pds">"</span></span>)
    logger.addHandler(handler)
    logger.setLevel(logging.<span class="pl-c1">DEBUG</span>)
    <span class="pl-c"><span class="pl-c">#</span> Define the Fisherfaces as Feature Extraction method:</span>
    feature <span class="pl-k">=</span> Fisherfaces()
    <span class="pl-c"><span class="pl-c">#</span> Define a 1-NN classifier with Euclidean Distance:</span>
    classifier <span class="pl-k">=</span> NearestNeighbor(<span class="pl-v">dist_metric</span><span class="pl-k">=</span>EuclideanDistance(), <span class="pl-v">k</span><span class="pl-k">=</span><span class="pl-c1">1</span>)
    <span class="pl-c"><span class="pl-c">#</span> Define the model as the combination</span>
    model <span class="pl-k">=</span> PredictableModel(<span class="pl-v">feature</span><span class="pl-k">=</span>feature, <span class="pl-v">classifier</span><span class="pl-k">=</span>classifier)
    <span class="pl-c"><span class="pl-c">#</span> Compute the Fisherfaces on the given data (in X) and labels (in y):</span>
    model.compute(<span class="pl-c1">X</span>, y)
    <span class="pl-c"><span class="pl-c">#</span> Then turn the first (at most) 16 eigenvectors into grayscale</span>
    <span class="pl-c"><span class="pl-c">#</span> images (note: eigenvectors are stored by column!)</span>
    <span class="pl-c1">E</span> <span class="pl-k">=</span> []
    <span class="pl-k">for</span> i <span class="pl-k">in</span> <span class="pl-v">xrange</span>(<span class="pl-c1">min</span>(model.feature.eigenvectors.shape[<span class="pl-c1">1</span>], <span class="pl-c1">16</span>)):
        e <span class="pl-k">=</span> model.feature.eigenvectors[:,i].reshape(<span class="pl-c1">X</span>[<span class="pl-c1">0</span>].shape)
        <span class="pl-c1">E</span>.append(minmax_normalize(e,<span class="pl-c1">0</span>,<span class="pl-c1">255</span>, <span class="pl-v">dtype</span><span class="pl-k">=</span>np.uint8))
    <span class="pl-c"><span class="pl-c">#</span> Plot them and store the plot to "python_fisherfaces_fisherfaces.pdf"</span>
    subplot(<span class="pl-v">title</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Fisherfaces<span class="pl-pds">"</span></span>, <span class="pl-v">images</span><span class="pl-k">=</span><span class="pl-c1">E</span>, <span class="pl-v">rows</span><span class="pl-k">=</span><span class="pl-c1">4</span>, <span class="pl-v">cols</span><span class="pl-k">=</span><span class="pl-c1">4</span>, <span class="pl-v">sptitle</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Fisherface<span class="pl-pds">"</span></span>, <span class="pl-v">colormap</span><span class="pl-k">=</span>cm.jet, <span class="pl-v">filename</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>fisherfaces.png<span class="pl-pds">"</span></span>)
    <span class="pl-c"><span class="pl-c">#</span> Perform a 10-fold cross validation</span>
    cv <span class="pl-k">=</span> KFoldCrossValidation(model, <span class="pl-v">k</span><span class="pl-k">=</span><span class="pl-c1">10</span>)
    cv.validate(<span class="pl-c1">X</span>, y)
    <span class="pl-c"><span class="pl-c">#</span> And print the result:</span>
    <span class="pl-c1">print</span> cv</pre></div>

<h4><a id="user-content-results" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#results" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Results</h4>

<p>Since the AT&amp;T Facedatabase is a fairly easy database we have got a <code>95.5%</code> recognition rate with the Fisherfaces method (with a 10-fold cross validation):</p>

<pre><code>philipp@mango:~/github/facerec/py/apps/scripts$ python simple_example.py /home/philipp/facerec/data/at
2012-08-01 23:01:16,666 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 1/10.
2012-08-01 23:01:29,921 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 2/10.
2012-08-01 23:01:43,666 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 3/10.
2012-08-01 23:01:57,335 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 4/10.
2012-08-01 23:02:10,615 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 5/10.
2012-08-01 23:02:23,936 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 6/10.
2012-08-01 23:02:37,398 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 7/10.
2012-08-01 23:02:50,724 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 8/10.
2012-08-01 23:03:03,808 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 9/10.
2012-08-01 23:03:17,042 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 10/10.

k-Fold Cross Validation (model=PredictableModel (feature=Fisherfaces (num_components=39), classifier=NearestNeighbor (k=1, dist_metric=EuclideanDistance)), k=10, runs=1, accuracy=95.50%, std(accuracy)=0.00%, tp=382, fp=18, tn=0, fn=0)
</code></pre>

<p>And we can have a look at the Fisherfaces found by the model:</p>

<p><a href="./facerec_README_tutorial_files/fisherfaces_at.png" target="_blank"><img src="./facerec_README_tutorial_files/fisherfaces_at.png" alt="fisherfaces_at" title="fisherfaces_at" style="max-width:100%;"></a></p>

<h3><a id="user-content-advanced-examples-building-your-own-predictablemodel" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#advanced-examples-building-your-own-predictablemodel" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Examples: Building your own PredictableModel</h3>

<p>Basically all face recognition algorithms are the combination of a <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/feature.py">feature extraction</a>
and a <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/classifier.py">classifier</a>. The Eigenfaces method for example is a Principal Component Analysis with a Nearest Neighbor classifier. Local Binary Patterns Histograms . The feature (which must be an <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/feature.py">AbstractFeature</a>) and the classifier (which must be an <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/classifier.py">AbstractClassifier</a>) form a <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/model.py">PredictableModel</a>, which does the feature extraction and learns the classifier.</p>

<p>So if you want to use the Fisherfaces method for feature extraction you would do:</p>

<pre><code>from facerec.feature import Fisherfaces
from facerec.classifier import NearestNeighbor
from facerec.model import PredictableModel

model = PredictableModel(Fisherfaces(), NearestNeighbor())
</code></pre>

<p>Once you have created your model you can call <code>compute(data,labels)</code> to learn it on given image <code>data</code> and their labels. There's nothing like a Dataset structure I enforce: You pass the images as a list of NumPy arrays (or something that could be converted into NumPy arrays), the labels are again a NumPy arrays of integer numbers (corresponding to a person).</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">read_images</span>(<span class="pl-smi">path</span>, <span class="pl-smi">sz</span><span class="pl-k">=</span><span class="pl-c1">None</span>):
    <span class="pl-s"><span class="pl-pds">"""</span>Reads the images in a given folder, resizes images on the fly if size is given.</span>
<span class="pl-s"></span>
<span class="pl-s">    Args:</span>
<span class="pl-s">        path: Path to a folder with subfolders representing the subjects (persons).</span>
<span class="pl-s">        sz: A tuple with the size Resizes </span>
<span class="pl-s"></span>
<span class="pl-s">    Returns:</span>
<span class="pl-s">        A list [X,y]</span>
<span class="pl-s"></span>
<span class="pl-s">            X: The images, which is a Python list of numpy arrays.</span>
<span class="pl-s">            y: The corresponding labels (the unique number of the subject, person) in a Python list.</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>
    c <span class="pl-k">=</span> <span class="pl-c1">0</span>
    <span class="pl-c1">X</span>,y <span class="pl-k">=</span> [], []
    <span class="pl-k">for</span> dirname, dirnames, filenames <span class="pl-k">in</span> os.walk(path):
        <span class="pl-k">for</span> subdirname <span class="pl-k">in</span> dirnames:
            subject_path <span class="pl-k">=</span> os.path.join(dirname, subdirname)
            <span class="pl-k">for</span> filename <span class="pl-k">in</span> os.listdir(subject_path):
                <span class="pl-k">try</span>:
                    im <span class="pl-k">=</span> Image.open(os.path.join(subject_path, filename))
                    im <span class="pl-k">=</span> im.convert(<span class="pl-s"><span class="pl-pds">"</span>L<span class="pl-pds">"</span></span>)
                    <span class="pl-c"><span class="pl-c">#</span> resize to given size (if given)</span>
                    <span class="pl-k">if</span> (sz <span class="pl-k">is</span> <span class="pl-k">not</span> <span class="pl-c1">None</span>):
                        im <span class="pl-k">=</span> im.resize(<span class="pl-c1">self</span>.sz, Image.<span class="pl-c1">ANTIALIAS</span>)
                    <span class="pl-c1">X</span>.append(np.asarray(im, <span class="pl-v">dtype</span><span class="pl-k">=</span>np.uint8))
                    y.append(c)
                <span class="pl-k">except</span> <span class="pl-c1">IOError</span>, (errno, strerror):
                    <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>I/O error(<span class="pl-c1">{0}</span>): <span class="pl-c1">{1}</span><span class="pl-pds">"</span></span>.format(errno, strerror)
                <span class="pl-k">except</span>:
                    <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>Unexpected error:<span class="pl-pds">"</span></span>, sys.exc_info()[<span class="pl-c1">0</span>]
                    <span class="pl-k">raise</span>
            c <span class="pl-k">=</span> c<span class="pl-k">+</span><span class="pl-c1">1</span>
    <span class="pl-k">return</span> [<span class="pl-c1">X</span>,y]</pre></div>

<p>Reading in the image data is then as easy as calling:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span> Read in the image data:</span>
[<span class="pl-c1">X</span>,y] <span class="pl-k">=</span> read_images(<span class="pl-s"><span class="pl-pds">"</span>/path/to/your/image/data<span class="pl-pds">"</span></span>)</pre></div>

<h4><a id="user-content-learning-a-model" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#learning-a-model" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Learning a Model</h4>

<p>You can then learn a model by calling <code>compute</code> on it. You have to pass the image data in a list <code>X</code> and the according labels in a list <code>y</code>:</p>

<pre><code># Then compute the model:
model.compute(X,y)
# ...
</code></pre>

<h4><a id="user-content-getting-a-prediction" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#getting-a-prediction" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting a prediction</h4>

<p>Since I can't assume a standard classifier output, a classifier always outputs a list with:</p>

<pre><code>[ predicted_label, generic_classifier_output]
</code></pre>

<p>Take the k-Nearest Neighbor for example. Imagine I have a 3-Nearest Neighbor classifier, then your PredictableModel is going to return something similar to:</p>

<pre><code>&gt;&gt;&gt; model.predict(X)
[ 0, 
  { 'labels'    : [ 0,      0,      1      ],
    'distances' : [ 10.132, 10.341, 13.314 ]
  }
]
</code></pre>

<p>In this example the predicted label is <code>0</code>, because two of three nearest neighbors were of label <code>0</code> and only one neighbor was <code>1</code>. The generic output is given in a dict for these classifiers, so you are given some semantic information. I prefer this over plain Python lists, because it is probably hard to read through some code, if you are accessing stuff by indices only.</p>

<p>If you only want to know the predicted label for a query image <code>X</code> you would write:</p>

<pre><code>predicted_label = model.predict(X)[0]
</code></pre>

<p>And if you want to make your <code>PredictableModel</code> more sophisticated, by rejecting examples based on the classifier output for example, then you'll need to access the generic classifier output:</p>

<pre><code>prediction = model.predict(X)
predicted_label = prediction[0]
generic_classifier_output = prediction[1]
</code></pre>

<p>You have to read up the classifier output in the help section of each classifers predict method.</p>

<h4><a id="user-content-thresholding" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#thresholding" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Thresholding</h4>

<p>In OpenCV you can pass a decision threshold to the predict method, which a prediction is thresholded against. So how can you introduce a decision threshold in the facerec framework? I admit there isn't a convenient or obvious way to do so, but it's actually quite easy. Imagine your classifier is 1-Nearest Neighbor, then a prediciton is going to yield something like this:</p>

<pre><code>&gt;&gt;&gt; prediction = model.predict(X)
[ 0,
   { 'labels'    : [ 0 ],
     'distances' : [ 12.345 ]
   }
]
</code></pre>

<p>Where</p>

<pre><code>prediction[0]    -- Is the predicted label.
prediction[1]   -- is the generic classifier output, the decision is based on.
</code></pre>

<p>Now let's say you have estimated, that every distance above <code>10.1</code> is nonsense and should be ignored. Then you could do something like this in your script, to threshold against the given value:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span> This gets you the output:</span>
prediction <span class="pl-k">=</span> model.predict(<span class="pl-c1">X</span>)
predicted_label <span class="pl-k">=</span> prediction[<span class="pl-c1">0</span>]
classifier_output <span class="pl-k">=</span> prediction[<span class="pl-c1">1</span>]
<span class="pl-c"><span class="pl-c">#</span> Now let's get the distance from the assuming a 1-Nearest Neighbor.</span>
<span class="pl-c"><span class="pl-c">#</span> Since it's a 1-Nearest Neighbor only look take the zero-th element:</span>
distance <span class="pl-k">=</span> classifier_output[<span class="pl-s"><span class="pl-pds">'</span>distances<span class="pl-pds">'</span></span>][<span class="pl-c1">0</span>]
<span class="pl-c"><span class="pl-c">#</span> Now you can easily threshold by it:</span>
<span class="pl-k">if</span> distance <span class="pl-k">&gt;</span> <span class="pl-c1">10.0</span>:
  <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>Unknown Person!<span class="pl-pds">"</span></span>
<span class="pl-k">else</span>
  <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>Person is known with label <span class="pl-c1">%i</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (predicted_label) </pre></div>

<h4><a id="user-content-image-processing-chains" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#image-processing-chains" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Image processing chains</h4>

<p>Sometimes it's also necessary to perform preprocessing on your images. This framework is quite advanced and makes it easy to experiment with algorithms. You can achieve image processing chains by using the <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/operators.py">ChainOperator</a>. The ChainOperator computes a <code>feature1</code> and passes its output to a <code>feature2</code>. See the implementation of the <code>ChainOperator</code>, which is a <code>FeatureOperator</code>. The <code>FeatureOperator</code> in turn is an <code>AbstractFeature</code> again, so it can be the input for another <code>AbstractFeature</code>. Get it?</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">class</span> <span class="pl-en">FeatureOperator</span>(<span class="pl-e">AbstractFeature</span>):
    <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    A FeatureOperator operates on two feature models.</span>
<span class="pl-s"></span>
<span class="pl-s">    Args:</span>
<span class="pl-s">        model1 [AbstractFeature]</span>
<span class="pl-s">        model2 [AbstractFeature]</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>
    <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>,<span class="pl-smi">model1</span>,<span class="pl-smi">model2</span>):
        <span class="pl-k">if</span> (<span class="pl-k">not</span> <span class="pl-c1">isinstance</span>(model1,AbstractFeature)) <span class="pl-k">or</span> (<span class="pl-k">not</span> <span class="pl-c1">isinstance</span>(model2,AbstractFeature)):
            <span class="pl-k">raise</span> <span class="pl-c1">Exception</span>(<span class="pl-s"><span class="pl-pds">"</span>A FeatureOperator only works on classes implementing an AbstractFeature!<span class="pl-pds">"</span></span>)
        <span class="pl-c1">self</span>.model1 <span class="pl-k">=</span> model1
        <span class="pl-c1">self</span>.model2 <span class="pl-k">=</span> model2

    <span class="pl-k">def</span> <span class="pl-c1">__repr__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
        <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>FeatureOperator(<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-c1">repr</span>(<span class="pl-c1">self</span>.model1) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-c1">repr</span>(<span class="pl-c1">self</span>.model2) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>)<span class="pl-pds">"</span></span>

<span class="pl-k">class</span> <span class="pl-en">ChainOperator</span>(<span class="pl-e">FeatureOperator</span>):
    <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    The ChainOperator chains two feature extraction modules:</span>
<span class="pl-s">        model2.compute(model1.compute(X,y),y)</span>
<span class="pl-s">    Where X can be generic input data.</span>
<span class="pl-s"></span>
<span class="pl-s">    Args:</span>
<span class="pl-s">        model1 [AbstractFeature]</span>
<span class="pl-s">        model2 [AbstractFeature]</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>
    <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>,<span class="pl-smi">model1</span>,<span class="pl-smi">model2</span>):
        FeatureOperator.<span class="pl-c1">__init__</span>(<span class="pl-c1">self</span>,model1,model2)

    <span class="pl-k">def</span> <span class="pl-en">compute</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>,<span class="pl-smi">X</span>,<span class="pl-smi">y</span>):
        <span class="pl-c1">X</span> <span class="pl-k">=</span> <span class="pl-c1">self</span>.model1.compute(<span class="pl-c1">X</span>,y)
        <span class="pl-k">return</span> <span class="pl-c1">self</span>.model2.compute(<span class="pl-c1">X</span>,y)

    <span class="pl-k">def</span> <span class="pl-en">extract</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>,<span class="pl-smi">X</span>):
        <span class="pl-c1">X</span> <span class="pl-k">=</span> <span class="pl-c1">self</span>.model1.extract(<span class="pl-c1">X</span>)
        <span class="pl-k">return</span> <span class="pl-c1">self</span>.model2.extract(<span class="pl-c1">X</span>)

    <span class="pl-k">def</span> <span class="pl-c1">__repr__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
        <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>ChainOperator(<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-c1">repr</span>(<span class="pl-c1">self</span>.model1) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-c1">repr</span>(<span class="pl-c1">self</span>.model2) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>)<span class="pl-pds">"</span></span></pre></div>

<p>So imagine we want to perform a TanTriggs preprocessing, before applying the Fisherfaces. What you would do is using the output of the <code>TanTriggsPreprocessing</code> feature extraction as input for the <code>Fisherfaces</code> feature extraction. We can express this with a <code>ChainOperator</code> in facerec:</p>

<pre><code>from facerec.preprocessing import TanTriggsPreprocessing
from facerec.feature import Fisherfaces
from facerec.operators import ChainOperator
from facerec.model import PredictableModel


feature = ChainOperator(TanTriggsPreprocessing(), Fisherfaces())
classifier = NearestNeighbor()
model = PredictableModel(feature, classifier)
</code></pre>

<h4><a id="user-content-classifier" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#classifier" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Classifier</h4>

<p>Start with a <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/classifier.py">Nearest Neighbor model</a> as a classifier. In its simplest form you would just need to write:</p>

<pre><code>from facerec.classifier import NearestNeighbor

classifier = NearestNeighbor()
</code></pre>

<p>This creates a 1-Nearest Neighbor with the Euclidean Distance as distance metric. To create a 5-Nearest Neighbor with a Cosine Distance instead, you would write:</p>

<pre><code>from facerec.classifier import NearestNeighbor
from facerec.distance import CosineDistance

classifier = NearestNeighbor(dist_metric=CosineDistance(), k=5)
</code></pre>

<p>If you want to build a <code>PredictableModel</code> to generate predictions, simply use the <a href="https://github.com/bytefish/facerec/blob/master/py/facerec/model.py">PredictableModel</a>:</p>

<pre><code>from facerec.model import PredictableModel
from facerec.feature import Fisherfaces
from.facerec.classifier import NearestNeighbor
from facerec.distance import EuclideanDistance

feature = Fisherfaces()

classifier = NearestNeighbor(dist_metric=CosineDistance(), k=5)
predictor = PredictableModel(feature, classifier)
</code></pre>

<p>Once you have created your model you can call <code>compute</code> to learn it. Please see the <a href="https://github.com/bytefish/facerec/tree/master/py/apps/">examples</a>.</p>

<h2><a id="user-content-face-recognition-in-videos-or-turning-videofacerecpy-into-something-useful" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#face-recognition-in-videos-or-turning-videofacerecpy-into-something-useful" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Face Recognition in Videos (or turning videofacerec.py into something useful)</h2>

<table>
    <tbody><tr>
        <td><a href="./facerec_README_tutorial_files/68747470733a2f2f7261772e6769746875622e636f6d2f62797465666973682f666163657265632f6d61737465722f70792f617070732f766964656f666163657265632f73696d706c655f766964656f666163657265632e706e67" target="_blank"><img src="./facerec_README_tutorial_files/68747470733a2f2f7261772e6769746875622e636f6d2f62797465666973682f666163657265632f6d61737465722f70792f617070732f766964656f666163657265632f73696d706c655f766964656f666163657265632e706e67" alt="simple_videofacerec.py in action" data-canonical-src="https://raw.github.com/bytefish/facerec/master/py/apps/videofacerec/simple_videofacerec.png" style="max-width:100%;"></a></td> 
        <td>
            <p><a href="https://github.com/bytefish/facerec/tree/master/py/apps/videofacerec">videofacerec</a> is a tiny Python script I wrote to perform face recognition in videos and to showcase some of the <a href="http://www.github.com/bytefish/facerec">facerec framework</a> features. It was a really quick hack and I've always told people, that I can't give much of a help. But since many people kept asking for it recently, I've finally decided to rewrite it into something more useful and robust. And this is also the perfect chance to add some more <a href="http://www.github.com/bytefish/facerec">facerec</a> features and write a new blog post.</p>
            <p>The screenshot shows you the final applications output, with my beautiful face of course. I've trained a model with the images of some celebrities and the application recognizes me as the <i>terrific</i> <a href="http://en.wikipedia.org/wiki/Patrick_Stewart">Sir Patrick Stewart</a>, which makes perfect sense if you have read <a href="http://www.bytefish.de/blog/fisherfaces">my article on the Fisherfaces algorithm</a>.</p></td>
    </tr>
</tbody></table>

<p>You can find the script and resources at: </p>

<ul>
<li><a href="https://github.com/bytefish/facerec/tree/master/py/apps/videofacerec">https://github.com/bytefish/facerec/tree/master/py/apps/videofacerec</a>.</li>
</ul>

<p>Thanks to more than 100 people for watching the repository!</p>

<h3><a id="user-content-usage" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>usage</h3>

<p>The old script was hard to use and since the new one is easy to use I've called it <code>simple_videofacerec.py</code>. Basically the script allows you to compute, save and load models for face recognition in videos (e.g. webcam feeds). Moreover you can optionally validate your model to see the performance you can expect. <a href="http://www.opencv.org/">OpenCV</a>, which is a great Open Source project, is used for the face detection part and you can use all the available cascades coming with <a href="http://www.opencv.org/">OpenCV</a> for face detection.</p>

<p>Here is the usage and help message you get by calling <code>simple_videofacerec.py -h</code>:</p>

<pre>philipp@mango:~/github/facerec/py/apps/videofacerec$ ./simple_videofacerec.py -h
Usage: simple_videofacerec.py [options] model_filename

Options:
  -h, --help            show this help message and exit
  -r SIZE, --resize=SIZE
                        Resizes the given dataset to a given size in format
                        [width]x[height] (default: 100x100).
  -v NUMFOLDS, --validate=NUMFOLDS
                        Performs a k-fold cross validation on the dataset, if
                        given (default: None).
  -t DATASET, --train=DATASET
                        Trains the model on the given dataset.
  -i CAMERA_ID, --id=CAMERA_ID
                        Sets the Camera Id to be used (default: 0).
  -c CASCADE_FILENAME, --cascade=CASCADE_FILENAME
                        Sets the path to the Haar Cascade used for the face
                        detection part (default:
                        haarcascade_frontalface_alt2.xml).
</pre>

<p>As you can see, the name for the recognition model (called <code>model_filename</code> above) is required. I don't think everything in the help message is self-explaining, so here is an in-depth summary:</p>

<table>
    <tbody><tr>
        <th>Parameter</th>
        <th>Description</th>
        <th>Example</th>
    </tr>
    <tr>
        <td><code>-r SIZE, --resize=SIZE</code></td>
        <td>Some of the algorithms I have implemented in the framework only work on images with the same dimension. So if you learn a model, you probably need to resize the images to equal length. Moreover the images used in the prediction need to be resized to the training sets size, else the whole thing crashes with cryptic error messages. In the script you can pass the size with the <code>-r</code> or <code>--resize</code> switch and the size in format <code>[width]x[height]</code>, so valid arguments are for example <code>70x70</code> or <code>130x100</code>.</td>
        <td><code>python simple_videofacerec.py -t /path/to/some/dataset -r 130x100 model_filename.pkl</code></td>
    </tr>
    <tr>
        <td><code>-v NUMFOLDS, --validate=NUMFOLDS</code></td>
        <td>You really want to validate a model before using it, so you are able to estimate the performance you can expect from it. The script only supports a simple k-Fold Cross Validation and outputs the <i>precision</i> of the model. If you want to use other estimates I suggest reading <a href="http://bytefish.de/blog/validating_algorithms/">my post on validating algorithms</a>, which uses the great <a href="https://github.com/scikit-learn/scikit-learn">scikit-learn</a> project. The following example performs a 10-fold Cross Validation on a given dataset and stores the computed model to <code>model_filename.pkl</code>.</td>
        <td><code>python simple_videofacerec.py -t /path/to/some/dataset -v 10 model_filename.pkl</code></td>
    </tr>
    <tr>
        <td><code>-t DATASET, --train=DATASET</code></td>
        <td>For performing face recognition, you'll need to learn a model first. This is done by passing the <code>-t</code> or <code>--train</code> parameter and the path to a dataset to the script (you've seen this above already). The script has a method <code>get_model</code>, which defines the <code>PredictableModel</code> (please see the <a href="https://github.com/bytefish/facerec/blob/master/README.markdown">README</a> of facerec for full examples and explanation. The following example reads the dataset from <code>/path/to/your/dataset</code> and stores it to <code>model_filename.pkl</code></td>
        <td><code>python simple_videofacerec.py -t /path/to/your/dataset model_filename.pkl</code></td>
    </tr>
    <tr>
        <td><code>-i CAMERA_ID, --id=CAMERA_ID</code></td>
        <td>OpenCV assigns a number to each of your devices, starting with <code>0</code> (used per default). So if you have multiple cameras and want to use another one, the <code>-i</code> or <code>--id</code> switch is the way to go! The following example uses the camera with id <code>1</code> and <code>model_filename.pkl</code> for recognition.</td>
        <td><code>python simple_videofacerec.py -c 1 model_filename.pkl</code></td>
    </tr>
    <tr>
         <td><code>-c CASCADE_FILENAME</code></td>
         <td>The OpenCV library includes <a href="http://docs.opencv.org/modules/objdetect/doc/cascade_classification.html">Cascade Classification</a> for object recognition, which can be used for realtime face detection. We are going to use the OpenCV Python bindings to <a href="http://docs.opencv.org/modules/objdetect/doc/cascade_classification.html">cv::CascadeClassifier</a> for the face detection part of the application. You can find all available cascades in the <a href="https://github.com/Itseez/opencv/tree/master/data">data folder of your OpenCV installation</a>. I've added a Cascaded to the repository, you probably want to experiment with other ones. The following examples uses the model in <code>model_filename.pkl</code> for recognition and the cascade in <code>haarcascade_frontalface_alt2.xml</code> for face detection.</td>
         <td><code>python -c haarcascade_frontalface_alt2.xml model_filename.pkl</code></td>
     </tr>
</tbody></table>

<h3><a id="user-content-working-with-the-script" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#working-with-the-script" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>working with the script</h3>

<h4><a id="user-content-getting-the-image-data-right" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#getting-the-image-data-right" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getting the image data right</h4>

<p>All of my recent tutorials include the same part, that explains how to prepare the image data for my scripts. It's not because I love repeating myself, but because readers almost always ask this question, so I am copy and pasting it to avoid the confusion. For sake of simplicity I have assumed in the script, that the images (the <em>faces</em>, the <em>persons you want to recognize</em>) are given in folders. One folder per person. So imagine I have a folder (a dataset) called <code>celebrities</code> with the subfolders <code>tom_hanks</code>, <code>philipp_wagner</code>, <code>angelina_jolie</code> and so on. </p>

<p>The folder (stored at <code>~/facerec/data/celebrities</code> in this example) will look like this</p>

<pre>philipp@mango:~/facerec/data/celebrities$ tree -L 2
.
|-- tom_hanks
|   |-- 1.jpg
|   |-- 2.jpg
|   |-- 3.jpg
|   |-- 4.jpg
...
|-- philipp_wagner
|   |-- 1.jpg
|   |-- 2.jpg
|   |-- 3.jpg
|   |-- 4.jpg
...
|-- angelina_jolie
|   |-- 1.jpg
|   |-- 2.jpg
|   |-- 3.jpg
|   |-- 4.jpg
[...]
</pre>

<p>If you pass a dataset with a similar hierarchie to <code>simple_videofacerec.py</code>, it is able to read the images and use the folder names for identification.</p>

<h4><a id="user-content-learning-and-validating-a-model" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#learning-and-validating-a-model" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>learning and validating a model</h4>

<p>Imagine I have prepared some images of celebrities and stored them in <code>/home/philipp/facerec/data/celebrities</code>, of course in the hierarchie as described above. The images are all aligned at the eyes, as most of the algorithms need aligned images to learn a good model, similar to my set of <a href="http://en.wikipedia.org/wiki/George_Clooney">George Clooney</a> images (he was so amazing in <em>Batman &amp; Robin</em>!):</p>

<p><a href="https://github.com/bytefish/facerec/blob/master/static/images/blog/videofacerec/clooney_set.png" target="_blank"><img src="./facerec_README_tutorial_files/clooney_set.png" alt="aligned images" style="max-width:100%;"></a></p>

<p>Initially you don't have a computed mode to perform the face recognition yet. This predicition model has to be trained on the set of images we've prepared. This is done by passing the <code>-t</code> or <code>--train</code> parameter, the path to our dataset (<code>/home/philipp/facerec/data/celebrities</code>) and the model filename (e.g. ``my_model.pkl) to the script. So you would start the script with the following call:</p>

<pre>python simple_videofacerec.py -t /home/philipp/facerec/data/celebrities my_model.pkl
</pre>

<p>If you run the script, you'll see an output similar to this:</p>

<pre>philipp@mango:~/github/facerec/py/apps/videofacerec$ python simple_videofacerec.py -t /home/philipp/facerec/data/celebrities my_model.pkl

Press [ESC] to exit the program!
Script output:
Loading dataset...
Computing the model...
Saving the model...
Starting application...
</pre>

<p>This line (1) reads the image data in the given folder, (2) computes the model, (3) saves the model to <code>my_model.pkl</code> and finally starts grabbing images from the webcam. And you can see, that Python serializes you the learnt model to disk:</p>

<pre>philipp@mango:~/github/facerec/py/apps/videofacerec$ du -sh my_model.pkl 
2.0M    my_model.pkl
</pre>

<p>You can easily reuse the model and don't need to learn it from the dataset all over again. This can be done by simply don't passing the <code>-t</code> or <code>--train</code> parameter, but only passing the model filename:</p>

<pre>python simple_videofacerec.py my_model.pkl
</pre>

<p>And the script output is much shorter:</p>

<pre>philipp@mango:~/github/facerec/py/apps/videofacerec$ python simple_videofacerec.py my_model.pkl

Press [ESC] to exit the program!
Script output:
Loading the model...
Starting application...
</pre>

<h4><a id="user-content-validating-the-model" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#validating-the-model" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>validating the model</h4>

<p>Sometimes you want to know, which performance to expect from the model given the data available. The script optionally performs a k-Fold Cross Validation to estimate the <em>precision</em> of the model. This is done by passing the <code>-v</code> or <code>--validate</code> switch with the number of folds as parameter. The validation is ignored, if it is not used with the <code>-t</code> or <code>--train</code> switch:</p>

<pre>python simple_videofacerec.py -t /home/philipp/facerec/data/celebrities -v 10 my_model.pkl
</pre>

<p>The scripts output then includes some log output and prints the cross validation result:</p>

<pre>philipp@mango:~/github/facerec/py/apps/videofacerec$ python simple_videofacerec.py -t /home/philipp/facerec/data/celebrities -v 10 my_model.pkl

Usage: simple_videofacerec.py [options] model_filename

Press [ESC] to exit the program!
Script output:
Loading dataset...
Validating model with 10 folds...
2013-06-17 23:18:40,873 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 1/10.
2013-06-17 23:18:42,218 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 2/10.
2013-06-17 23:18:43,561 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 3/10.
2013-06-17 23:18:44,895 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 4/10.
2013-06-17 23:18:46,269 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 5/10.
2013-06-17 23:18:47,605 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 6/10.
2013-06-17 23:18:48,976 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 7/10.
2013-06-17 23:18:50,336 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 8/10.
2013-06-17 23:18:51,694 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 9/10.
2013-06-17 23:18:53,048 - facerec.validation.KFoldCrossValidation - INFO - Processing fold 10/10.
k-Fold Cross Validation (model=PredictableModel (feature=Fisherfaces (num_components=9), classifier=NearestNeighbor (k=1, dist_metric=EuclideanDistance)), k=10, runs=1, accuracy=96.00%, std(accuracy)=0.00%, tp=96, fp=4, tn=0, fn=0)
Computing the model...
Saving the model...
Starting application...
</pre>

<h4><a id="user-content-defining-your-own-model" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#defining-your-own-model" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>defining your own model</h4>

<p>If you are experimenting with the framework, you probably don't want to stick to the <a href="http://www.bytefish.de/blog/fisherfaces">Fisherfaces</a> algorithm used as default. Instead of coming up with an own language for defining a model or using a XML configuration (<em>please not!</em>), there's simply a method which returns the model definition. Sometimes a method is totally sufficient in programming:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">get_model</span>(<span class="pl-smi">image_size</span>, <span class="pl-smi">subject_names</span>):
    <span class="pl-s"><span class="pl-pds">"""</span> This method returns the PredictableModel which is used to learn a model</span>
<span class="pl-s">        for possible further usage. If you want to define your own model, this</span>
<span class="pl-s">        is the method to return it from!</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>
    <span class="pl-c"><span class="pl-c">#</span> Define the Fisherfaces Method as Feature Extraction method:</span>
    feature <span class="pl-k">=</span> Fisherfaces()
    <span class="pl-c"><span class="pl-c">#</span> Define a 1-NN classifier with Euclidean Distance:</span>
    classifier <span class="pl-k">=</span> NearestNeighbor(<span class="pl-v">dist_metric</span><span class="pl-k">=</span>EuclideanDistance(), <span class="pl-v">k</span><span class="pl-k">=</span><span class="pl-c1">1</span>)
    <span class="pl-c"><span class="pl-c">#</span> Return the model as the combination:</span>
    <span class="pl-k">return</span> ExtendedPredictableModel(<span class="pl-v">feature</span><span class="pl-k">=</span>feature, <span class="pl-v">classifier</span><span class="pl-k">=</span>classifier, <span class="pl-v">image_size</span><span class="pl-k">=</span>image_size, <span class="pl-v">subject_names</span><span class="pl-k">=</span>subject_names)</pre></div>

<p>So if you want to define your own algorithms, this is place to overwrite. You need to return an <code>ExtendedPredictableModel</code> for the script to work (<code>ExtendedPredictableModel</code> is defined in the script).</p>

<h3><a id="user-content-conclusion" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#conclusion" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>conclusion</h3>

<p>This was my first blog post for a long time, and I hope you had as much fun reading it as I had writing it. If there's anything you'd like to see in the script, then let me know and I'll be happy to add it. Before you comment below and ask about the recognition performance of the implemented algorithms: they do not work perfect on not preprocessed input images. In order to create a more robust recognition, your input images should be aligned in the same manner as we did for the training set.</p>

<p>Pose estimation is a topic far, far, far from being easy and covering it in the scope of this blog post is not possible. Some of the upcoming articles I am preparing will evaluate algorithms for head pose estimation and see how they enhance the overall recognition process. But I also need time to dig through current literature, prepare interesting experiments and finally write the article - this takes time!</p>

<p>For now I'd like to refer to the most interesting approach for object alignment I know of:</p>

<ul>
<li><a href="http://www.janelia.org/people/scientist/gary-huang">Gary B. Huang</a>, <a href="http://vis-www.cs.umass.edu/~vidit">Vidit Jain</a>, and <a href="http://www.cs.umass.edu/~elm/">Erik Learned-Miller</a>. <strong>Unsupervised joint alignment of complex images.</strong> International Conference on Computer Vision (ICCV), 2007. (<a href="http://vis-www.cs.umass.edu/congeal_complex.html">Project page</a>, <a href="http://vis-www.cs.umass.edu/congeal_complex.html">PDF Online available</a>, <a href="https://bitbucket.org/gbhuang/congealreal">C++ Code</a>)</li>
</ul>

<h2><a id="user-content-facerecm" class="anchor" href="https://github.com/bytefish/facerec/blob/master/README.markdown#facerecm" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>facerec/m</h2>

<p>GNU Octave implementation of parts of the Python version.</p>
</article>
  </div>

</div>

<button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
<div id="jump-to-line" style="display:none">
  <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="https://github.com/bytefish/facerec/blob/master/README.markdown" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
    <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line…" aria-label="Jump to line" autofocus="">
    <button type="submit" class="btn">Go</button>
</form></div>

  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>


    </div>
  </div>

    </div>

        <div class="container site-footer-container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links float-right">
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li><a href="https://developer.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com/" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>

    <a href="https://github.com/" aria-label="Homepage" class="site-footer-mark" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
    <ul class="site-footer-links">
      <li>© 2017 <span title="0.11035s from github-fe-3d613a9.cp1-iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com/" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div>



    

    <div id="ajax-error-message" class="ajax-error-message flash flash-error">
      <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
      <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
        <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
      </button>
      You can't perform that action at this time.
    </div>


      
      <script crossorigin="anonymous" integrity="sha256-DuHm14fdrEMV8PukK66JGmbWhATwRMQvVGacjAUfAWk=" src="./facerec_README_tutorial_files/frameworks-0ee1e6d787ddac4315f0fba42bae891a66d68404f044c42f54669c8c051f0169.js.download"></script>
      <script async="async" crossorigin="anonymous" integrity="sha256-ivhEPleCsZ6xaFqFhFmeoPOJ01eAYLQRx8fIRGkRBcM=" src="./facerec_README_tutorial_files/github-8af8443e5782b19eb1685a8584599ea0f389d3578060b411c7c7c844691105c3.js.download"></script>
      
      
      
      
    <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
      <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
      <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="https://github.com/bytefish/facerec/blob/master/README.markdown">Reload</a> to refresh your session.</span>
      <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="https://github.com/bytefish/facerec/blob/master/README.markdown">Reload</a> to refresh your session.</span>
    </div>
    <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
    </button>
  </div>
</div>

  


</body></html>